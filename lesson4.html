<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Private Lesson | Musab ƒ∞kbal SUBA≈ûI</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:wght@400;600;700&display=swap');

        :root {
            --navy: #0A192F;
            --navy-light: #112240;
            --gold: #D4AF37;
            --cream: #F8F8F0;
            --white: #ffffff;
            --success: #2ecc71;
            --error: #e74c3c;
            --shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background-color: var(--navy);
            color: var(--cream);
            font-family: 'Lato', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* HEADER */
        header {
            background: linear-gradient(180deg, var(--navy-light) 0%, var(--navy) 100%);
            padding: 2rem;
            text-align: center;
            border-bottom: 3px solid var(--gold);
            box-shadow: var(--shadow);
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: var(--gold);
            margin-bottom: 0.5rem;
            letter-spacing: 1px;
        }

        .subtitle {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            opacity: 0.8;
        }

        /* CONTAINER */
        .container {
            max-width: 1000px;
            margin: 2rem auto;
            width: 95%;
            flex: 1;
        }

        /* NAVIGATION */
        .tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 2rem;
        }

        .tab-btn {
            background: transparent;
            border: 1px solid var(--gold);
            color: var(--gold);
            padding: 12px 24px;
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 4px;
        }

        .tab-btn:hover, .tab-btn.active {
            background: var(--gold);
            color: var(--navy);
            transform: translateY(-2px);
        }

        /* SECTIONS */
        .section {
            display: none;
            animation: fadeIn 0.5s ease;
            background: var(--navy-light);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .section.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            font-family: 'Playfair Display', serif;
            color: var(--gold);
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        /* ACTIVITY 1: STORY */
        .story-text {
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .story-sentence {
            cursor: pointer;
            padding: 2px 4px;
            border-radius: 4px;
            transition: background 0.2s;
        }

        .story-sentence:hover {
            background: rgba(212, 175, 55, 0.2);
        }

        .story-sentence.playing {
            background: var(--gold);
            color: var(--navy);
        }

        /* ACTIVITY 2: QUIZ */
        .quiz-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .quiz-card {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--gold);
        }

        .quiz-options {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .quiz-btn {
            flex: 1;
            padding: 10px;
            background: var(--navy);
            border: 1px solid var(--gold);
            color: var(--cream);
            cursor: pointer;
            transition: 0.3s;
        }

        .quiz-btn:hover { background: var(--gold); color: var(--navy); }

        .quiz-result {
            margin-top: 10px;
            font-style: italic;
            color: var(--gold);
            display: none;
        }

        /* ACTIVITY 3: FLASHCARDS */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .card {
            background: var(--cream);
            color: var(--navy);
            height: 200px;
            perspective: 1000px;
            cursor: pointer;
            border-radius: 8px;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid var(--gold);
        }

        .card-back {
            transform: rotateY(180deg);
            background: var(--navy);
            color: var(--gold);
        }

        .card-icon { font-size: 3rem; margin-bottom: 10px; }
        .card-word { font-family: 'Playfair Display', serif; font-size: 1.5rem; font-weight: bold; }
        .card-def { font-size: 0.9rem; line-height: 1.4; }

        /* ACTIVITY 4: SORTING */
        .sorting-area {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .sort-bucket {
            flex: 1;
            border: 2px dashed var(--gold);
            padding: 20px;
            border-radius: 8px;
            min-height: 200px;
            text-align: center;
        }

        .bucket-title { font-family: 'Playfair Display', serif; color: var(--gold); margin-bottom: 10px; }

        .draggable-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .draggable {
            background: var(--cream);
            color: var(--navy);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: grab;
            font-weight: bold;
        }

        /* ACTIVITY 5: DICTATION */
        .dictation-box {
            text-align: center;
            max-width: 500px;
            margin: 0 auto;
        }

        .dictation-input {
            width: 100%;
            padding: 15px;
            margin: 20px 0;
            border: 2px solid var(--gold);
            background: rgba(255,255,255,0.1);
            color: var(--cream);
            font-size: 1.2rem;
            border-radius: 8px;
            text-align: center;
        }

        .btn-main {
            background: var(--gold);
            color: var(--navy);
            border: none;
            padding: 10px 30px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: bold;
            border-radius: 4px;
        }

        .feedback-msg { margin-top: 15px; font-weight: bold; min-height: 24px; }

        /* FOOTER */
        footer {
            text-align: center;
            padding: 2rem;
            border-top: 1px solid rgba(212, 175, 55, 0.3);
            margin-top: auto;
            color: var(--gold);
        }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            .tabs { flex-direction: column; }
            .sorting-area { flex-direction: column; }
            .card { height: 250px; }
        }
    </style>
</head>
<body>

    <header>
        <div style="font-size: 2rem;">üëë</div>
        <h1>Musab ƒ∞kbal SUBA≈ûI</h1>
        <div class="subtitle">Private Lesson ‚Ä¢ Beginner A1-A2</div>
    </header>

    <div class="container">
        <!-- Navigation -->
        <nav class="tabs">
            <button class="tab-btn active" onclick="openTab('story')">1. Interactive Story</button>
            <button class="tab-btn" onclick="openTab('quiz')">2. Personality Quiz</button>
            <button class="tab-btn" onclick="openTab('vocab')">3. Vocabulary</button>
            <button class="tab-btn" onclick="openTab('sorting')">4. Character Sort</button>
            <button class="tab-btn" onclick="openTab('dictation')">5. Listening</button>
        </nav>

        <!-- 1. Interactive Story -->
        <div id="story" class="section active">
            <h2>The Careful Planner and the Creative Camper</h2>
            <p style="margin-bottom: 15px; font-style: italic; color: #aaa;">Click any sentence to listen.</p>
            <div id="story-content" class="story-text">
                <!-- Story injected by JS -->
            </div>
        </div>

        <!-- 2. Personality Quiz -->
        <div id="quiz" class="section">
            <h2>Fun Personality Quiz</h2>
            <div class="quiz-container">
                
                <div class="quiz-card">
                    <h3>1. Look at the image in your mind. What do you see first?</h3>
                    <div class="quiz-options">
                        <button class="quiz-btn" onclick="checkQuiz(this, 'Careful', 'You don\'t like to take risks.')">üêä A Crocodile</button>
                        <button class="quiz-btn" onclick="checkQuiz(this, 'Creative', 'You care about details but sometimes forget important things.')">‚õµ A Boat</button>
                    </div>
                    <div class="quiz-result"></div>
                </div>

                <div class="quiz-card">
                    <h3>2. What object catches your eye?</h3>
                    <div class="quiz-options">
                        <button class="quiz-btn" onclick="checkQuiz(this, 'Free Spirit', 'You like to be free and love traveling.')">üöó A Car</button>
                        <button class="quiz-btn" onclick="checkQuiz(this, 'Visual Learner', 'You don\'t pay attention to small details.')">üî≠ Binoculars</button>
                    </div>
                    <div class="quiz-result"></div>
                </div>

                <div class="quiz-card">
                    <h3>3. Look at the shadows. What do you see?</h3>
                    <div class="quiz-options">
                        <button class="quiz-btn" onclick="checkQuiz(this, 'Social', 'You like spending time with other people.')">üôÇ Faces</button>
                        <button class="quiz-btn" onclick="checkQuiz(this, 'Introverted', 'You enjoy being alone or with a few close friends.')">üïØÔ∏è Candlesticks</button>
                    </div>
                    <div class="quiz-result"></div>
                </div>

                <div class="quiz-card">
                    <h3>4. The classic illusion. Do you see...</h3>
                    <div class="quiz-options">
                        <button class="quiz-btn" onclick="checkQuiz(this, 'Emotional', 'You follow your heart.')">ü¶Ü A Duck</button>
                        <button class="quiz-btn" onclick="checkQuiz(this, 'Logical', 'You follow your brain.')">üêá A Rabbit</button>
                    </div>
                    <div class="quiz-result"></div>
                </div>

            </div>
        </div>

        <!-- 3. Vocabulary -->
        <div id="vocab" class="section">
            <h2>Vocabulary Flashcards</h2>
            <p style="margin-bottom: 15px;">Click to flip. Click speaker to listen.</p>
            <div class="grid" id="vocab-grid">
                <!-- Cards injected by JS -->
            </div>
        </div>

        <!-- 4. Sorting Game -->
        <div id="sorting" class="section">
            <h2>Dr. Furkan vs. Damla</h2>
            <p>Drag the words to the correct person.</p>
            
            <div class="draggable-container" id="draggable-source">
                <div class="draggable" draggable="true" ondragstart="drag(event)" id="d1">Logical</div>
                <div class="draggable" draggable="true" ondragstart="drag(event)" id="d2">Emotional</div>
                <div class="draggable" draggable="true" ondragstart="drag(event)" id="d3">Careful Planner</div>
                <div class="draggable" draggable="true" ondragstart="drag(event)" id="d4">Spontaneous</div>
                <div class="draggable" draggable="true" ondragstart="drag(event)" id="d5">Detailed Schedule</div>
                <div class="draggable" draggable="true" ondragstart="drag(event)" id="d6">Disco Ball</div>
                <div class="draggable" draggable="true" ondragstart="drag(event)" id="d7">Analytical</div>
                <div class="draggable" draggable="true" ondragstart="drag(event)" id="d8">Creative</div>
            </div>

            <div class="sorting-area">
                <div class="sort-bucket" ondrop="drop(event, 'furkan')" ondragover="allowDrop(event)">
                    <div class="bucket-title">üë®‚Äç‚öïÔ∏è Dr. Furkan</div>
                </div>
                <div class="sort-bucket" ondrop="drop(event, 'damla')" ondragover="allowDrop(event)">
                    <div class="bucket-title">üë©‚Äçüé® Damla</div>
                </div>
            </div>
            <p id="sort-feedback" class="feedback-msg" style="text-align: center; color: var(--gold);"></p>
        </div>

        <!-- 5. Dictation -->
        <div id="dictation" class="section">
            <h2>Listening Dictation</h2>
            <div class="dictation-box">
                <button class="btn-main" onclick="playDictationWord()">üîä Play Word</button>
                <input type="text" id="dictation-input" class="dictation-input" placeholder="Type what you hear...">
                <button class="btn-main" onclick="checkDictation()">Check Spelling</button>
                <div id="dictation-feedback" class="feedback-msg"></div>
            </div>
        </div>

    </div>

    <footer>
        Private Lesson for Musab ƒ∞kbal SUBA≈ûI ‚Ä¢ Created with Excellence üëë
    </footer>

    <script>
        /* --- 1. STORY CONTENT --- */
        const storyText = `Dr. Furkan was a brilliant family doctor, and an incredibly logical person. When he planned anything, he was always careful. This week, he was planning a weekend camping trip for himself and Damla. 
        "Right," he muttered, ticking a box. "Tent assembly: 14:00 to 14:45. Dinner prep: 18:00 sharp." His schedule was so analytical, it covered every minute of Saturday and Sunday. Everything was perfectly organized.
        His wife, Damla, was the complete opposite. She was wildly creative and very emotional. She believed that the best plans were no plans at all, but simply following your heart.
        "Furkan, darling," she said, approaching the table. "Look at your schedule! You‚Äôve already planned Sunday‚Äôs breakfast! Where is the spontaneity? Where is the fun?" she asked, laughing.
        Furkan sighed. "Damla, if we are careful, we are safe and happy. If we follow this logical itinerary, we won't forget anything important." He was also very sensitive to criticism about his planning, as he worked hard on it.
        Damla was feeling emotional about the trip and wanted to share her joy. "I know! I wanted to be social! I invited the neighbors to join us for campfire songs tonight, right after we get there!" she announced brightly. Furkan went pale.
        "Invited guests?" Furkan whispered, looking terrified. "But the itinerary says 'Day 1, 19:00: Quiet reflection and analytical review of star charts'! I didn't pack extra dinner rations or count sleeping space!"
        Damla, being creative and quick-thinking, tried to fix the situation. She had already packed some unusual items‚Äîextra pillows, paint supplies, and a small disco ball. They would make do.
        The neighbors arrived just as Furkan was trying to calculate the perfect angle for the tent pegs. Damla, showing her social strength, immediately started telling jokes and setting up a painting station instead of worrying about the late dinner schedule.
        Furkan, watching the fun, realized that while being logical was important, Damla‚Äôs emotional and creative spirit brought joy. They ate simple sandwiches, sang badly, and painted the stars. He wrapped an arm around her. They learned that mixing careful plans with creative moments made the best memories.`;

        /* --- 2. VOCABULARY DATA --- */
        const vocabList = [
            { word: "Personality test", icon: "üß©", def: "A quiz that tells you what kind of person you are." },
            { word: "Crocodile", icon: "üêä", def: "A big animal that lives in water and has sharp teeth." },
            { word: "Boat", icon: "üö§", def: "A small ship that moves on water." },
            { word: "Visual learner", icon: "üëÅÔ∏è", def: "A person who learns best by seeing." },
            { word: "Eagle eye", icon: "ü¶Ö", def: "Someone who can see small things clearly." },
            { word: "Social", icon: "üó£Ô∏è", def: "Liking to be with other people." },
            { word: "Candlesticks", icon: "üïØÔ∏è", def: "Holders for candles." },
            { word: "Alone", icon: "üßç", def: "With no one else." },
            { word: "Excited", icon: "ü§©", def: "Very happy and full of energy." },
            { word: "Nervous", icon: "üò¨", def: "Worried or a little scared." }
        ];

        /* --- 3. SORTING DATA --- */
        const sortData = {
            'd1': 'furkan', 'd2': 'damla', 'd3': 'furkan', 'd4': 'damla',
            'd5': 'furkan', 'd6': 'damla', 'd7': 'furkan', 'd8': 'damla'
        };

        /* --- INITIALIZATION --- */
        window.onload = function() {
            initStory();
            initVocab();
        };

        function speak(text) {
            window.speechSynthesis.cancel();
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US';
            utterance.rate = 0.9;
            window.speechSynthesis.speak(utterance);
        }

        /* --- TAB LOGIC --- */
        function openTab(tabName) {
            document.querySelectorAll('.section').forEach(x => x.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(x => x.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        /* --- STORY LOGIC --- */
        function initStory() {
            const container = document.getElementById('story-content');
            // Split by sentence but keep punctuation
            const sentences = storyText.match( /[^\.!\?]+[\.!\?]+/g );
            
            sentences.forEach(sentence => {
                const span = document.createElement('span');
                span.className = 'story-sentence';
                span.textContent = sentence.trim() + " ";
                span.onclick = function() {
                    document.querySelectorAll('.story-sentence').forEach(s => s.classList.remove('playing'));
                    this.classList.add('playing');
                    speak(sentence);
                };
                container.appendChild(span);
            });
        }

        /* --- QUIZ LOGIC --- */
        function checkQuiz(btn, result, explanation) {
            const resultDiv = btn.parentElement.nextElementSibling;
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = `<strong>${result}:</strong> ${explanation}`;
            speak(`You are ${result}. ${explanation}`);
        }

        /* --- VOCAB LOGIC --- */
        function initVocab() {
            const grid = document.getElementById('vocab-grid');
            vocabList.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card';
                card.onclick = function() { this.classList.toggle('flipped'); };
                card.innerHTML = `
                    <div class="card-inner">
                        <div class="card-front">
                            <div class="card-icon">${item.icon}</div>
                            <div class="card-word">${item.word}</div>
                            <small style="margin-top:10px; opacity:0.7;">Click to flip</small>
                        </div>
                        <div class="card-back">
                            <div class="card-def">${item.def}</div>
                            <button onclick="event.stopPropagation(); speak('${item.word}')" style="margin-top:15px; padding:5px 10px; background:var(--gold); border:none; border-radius:4px; cursor:pointer;">üîä Listen</button>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        /* --- SORTING LOGIC --- */
        function allowDrop(ev) { ev.preventDefault(); }
        function drag(ev) { ev.dataTransfer.setData("text", ev.target.id); }
        function drop(ev, targetPerson) {
            ev.preventDefault();
            const data = ev.dataTransfer.getData("text");
            const draggedElement = document.getElementById(data);
            const feedback = document.getElementById('sort-feedback');

            if (sortData[data] === targetPerson) {
                ev.target.closest('.sort-bucket').appendChild(draggedElement);
                draggedElement.style.background = '#2ecc71'; // Green for correct
                feedback.textContent = "Correct! Well done.";
                feedback.style.color = "#2ecc71";
            } else {
                feedback.textContent = "Oops! Try the other person.";
                feedback.style.color = "#e74c3c";
                speak("Try again.");
            }
        }

        /* --- DICTATION LOGIC --- */
        let currentDictationWord = "";

        function playDictationWord() {
            // Pick random word
            const randIndex = Math.floor(Math.random() * vocabList.length);
            currentDictationWord = vocabList[randIndex].word;
            speak(currentDictationWord);
        }

        function checkDictation() {
            const userText = document.getElementById('dictation-input').value.trim().toLowerCase();
            const feedback = document.getElementById('dictation-feedback');
            
            if (!currentDictationWord) {
                feedback.textContent = "Please click 'Play Word' first.";
                return;
            }

            if (userText === currentDictationWord.toLowerCase()) {
                feedback.textContent = "‚úÖ Correct! Excellent spelling.";
                feedback.style.color = "#2ecc71";
            } else {
                feedback.textContent = `‚ùå Incorrect. The word was: ${currentDictationWord}`;
                feedback.style.color = "#e74c3c";
            }
        }
    </script>
</body>
</html>
